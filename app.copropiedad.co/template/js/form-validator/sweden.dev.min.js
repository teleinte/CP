(function(c,b){c.formUtils.addValidator({name:"swesec",validatorFunction:function(f,m){var k,j,n,l;if(m.valAttr("use-hyphen")){l=f.split("-");if(l.length!=2){return false}f=l.join("")}if(!f.match(/^(\d{4})(\d{2})(\d{2})(\d{4})$/)){return false}k=RegExp.$1;j=c.formUtils.parseDateInt(RegExp.$2);n=c.formUtils.parseDateInt(RegExp.$3);b.ssnGender=(parseInt((RegExp.$4).substring(2,3))%2)===0?"female":"male";var e=new Array(31,28,31,30,31,30,31,31,30,31,30,31);if(k%400===0||k%4===0&&k%100!==0){e[1]=29}if(j<1||j>12||n<1||n>e[j-1]){return false}f=f.substring(2,f.length);var d="";for(var g=0;g<f.length;g++){d+=((((g+1)%2)+1)*f.substring(g,g+1))}var h=0;for(g=0;g<d.length;g++){h+=parseInt(d.substring(g,g+1),10)}return h%10===0},errorMessage:"",errorMessageKey:"badSecurityNumber"});c.formUtils.addValidator({name:"swecounty",validatorFunction:function(d){d=d.toLowerCase();if(c.inArray(d,this.counties)==-1){if(d.substr(-3).toLocaleLowerCase()!="län"){return c.inArray(d+"s län",this.counties)>-1}return false}else{return true}},errorMessage:"",errorMessageKey:"badCustomVal",counties:["stockholms län","uppsala län","södermanlands län","östergötlands län","jönköpings län","kronobergs län","kalmar län","gotlands län","blekinge län","skåne län","hallands län","västra götalands län","värmlands län","örebro län","västmanlands län","dalarnas län","gävleborgs län","västernorrlands län","jämtlands län","västerbottens län","norrbottens län"]});c.formUtils.addValidator({name:"swemunicipality",validatorFunction:function(d){d=d.toLowerCase();if(c.inArray(d,this.municipalities)==-1){if(d.substr(-8)=="s kommun"){if(c.inArray(d.substr(0,d.length-8),this.municipalities)>-1){return true}}if(d.substr(-7)==" kommun"){return c.inArray(d.substr(0,d.length-7),this.municipalities)>-1}return false}else{return true}},errorMessage:"",errorMessageKey:"badCustomVal",municipalities:["ale","alingsås","alvesta","aneby","arboga","arjeplog","arvidsjaur","arvika","askersund","avesta","bengtsfors","berg","bjurholm","bjuv","boden","bollebygd","bollnäs","borgholm","borlänge","borås","botkyrka","boxholm","bromölla","bräcke","burlöv","båstad","dals-ed","danderyd","degerfors","dorotea","eda","ekerö","eksjö","emmaboda","enköpings","eskilstuna","eslövs","essunga","fagersta","falkenberg","falköping","falu","filipstad","finspång","flen","forshaga","färgelanda","gagnef","gislaved","gnesta","gnosjö","gotland","grum","grästorp","gullspång","gällivare","gävle","göteborg","götene","habo","hagfor","hallsberg","hallstahammar","halmstad","hammarö","haninge","haparanda","heby","hedemora","helsingborg","herrljunga","hjo","hofor","huddinge","hudiksvall","hultsfred","hylte","håbo","hällefor","härjedalen","härnösand","härryda","hässleholm","höganäs","högsby","hörby","höör","jokkmokk","järfälla","jönköping","kalix","kalmar","karlsborg","karlshamn","karlskoga","karlskrona","karlstad","katrineholm","kil","kinda","kiruna","klippan","knivsta","kramfors","kristianstad","kristinehamn","krokoms","kumla","kungsbacka","kungsör","kungälv","kävlinge","köping","laholm","landskrona","laxå","lekeberg","leksand","lerum","lessebo","lidingö","lidköping","lilla edets","lindesbergs","linköpings","ljungby","ljusdals","ljusnarsbergs","lomma","ludvika","luleå","lunds","lycksele","lysekil","malmö","malung-sälen","malå","mariestad","marks","markaryd","mellerud","mjölby","mora","motala","mullsjö","munkedal","munkfors","mölndal","mönsterås","mörbylånga","nacka","nora","norberg","nordanstig","nordmaling","norrköping","norrtälje","norsjö","nybro","nykvarn","nyköping","nynäshamn","nässjö","ockelbo","olofström","orsa","orust","osby","oskarshamn","ovanåker","oxelösund","pajala","partille","perstorp","piteå","ragunda","robertsfors","ronneby","rättvik","sala","salem","sandviken","sigtuna","simrishamn","sjöbo","skara","skellefteå","skinnskatteberg","skurup","skövde","smedjebacken","sollefteå","sollentuna","solna","sorsele","sotenäs","staffanstorp","stenungsund","stockholm","storfors","storuman","strängnäs","strömstad","strömsund","sundbyberg","sundsvall","sunne","surahammar","svalöv","svedala","svenljunga","säffle","säter","sävsjö","söderhamns","söderköping","södertälje","sölvesborg","tanum","tibro","tidaholm","tierp","timrå","tingsryd","tjörn","tomelilla","torsby","torså","tranemo","tranå","trelleborg","trollhättan","trosa","tyresö","täby","töreboda","uddevalla","ulricehamns","umeå","upplands väsby","upplands-bro","uppsala","uppvidinge","vadstena","vaggeryd","valdemarsvik","vallentuna","vansbro","vara","varberg","vaxholm","vellinge","vetlanda","vilhelmina","vimmerby","vindeln","vingåker","vårgårda","vänersborg","vännäs","värmdö","värnamo","västervik","västerås","växjö","ydre","ystad","åmål","ånge","åre","årjäng","åsele","åstorp","åtvidaberg","älmhult","älvdalen","älvkarleby","älvsbyn","ängelholm","öckerö","ödeshög","örebro","örkelljunga","örnsköldsvik","östersund","österåker","östhammar","östra göinge","överkalix","övertorneå"]});c.formUtils.addValidator({name:"swephone",validatorFunction:function(e){var d=e.match(/\+/g);
var f=e.match(/-/g);if((d!==null&&d.length>1)||(f!==null&&f.length>1)){return false}if(d!==null&&e.indexOf("+")!==0){return false}e=e.replace(/([-|\+])/g,"");return e.length>8&&e.match(/[^0-9]/g)===null},errorMessage:"",errorMessageKey:"badTelephone"});c.formUtils.addValidator({name:"swemobile",validatorFunction:function(e){if(!c.formUtils.validators.validate_swephone.validatorFunction(e)){return false}e=e.replace(/[^0-9]/g,"");var d=e.substring(0,3);if(e.length!=10&&d!=="467"){return false}else{if(e.length!=11&&d==="467"){return false}}return(/07[0-9{1}]/).test(d)||d==="467"},errorMessage:"",errorMessageKey:"badTelephone"});var a=function(e){var d=[];c.each(e,function(g,f){d.push(f.substr(0,1).toUpperCase()+f.substr(1,f.length))});d.sort();return d};c.fn.suggestSwedishCounty=function(d){var e=a(c.formUtils.validators.validate_swecounty.counties);return c.formUtils.suggest(this,e,d)};c.fn.suggestSwedishMunicipality=function(e){var d=a(c.formUtils.validators.validate_swemunicipality.municipalities);return c.formUtils.suggest(this,d,e)}})(jQuery,window);